@import 'partials/mixins';
@import 'partials/typo';
@import 'partials/vars';
@import 'partials/colors';


body {
  --default-font: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica,
    Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
}

// Overwrite theme CSS variables
.theme-dark {
  --text-accent: #{$github-green};
  --text-accent-hover: #{$github-green-bright};
  --background-primary: #{$github-dark};
  --background-primary-alt: #{$github-dark-bright};
}

.theme-light {
  --text-accent: #{$github-blue};
  --text-accent-hover: #{$github-blue-bright};
}

// Overwrite styles
body {
  .markdown-source-view,
  .markdown-preview-view {
    blockquote,
    pre,
    code,
    p,
    span,
    li {
      font-size: $font-size-text;
      line-height: $line-height-text;
    }
  }

  .markdown-source-view {
    font-family: 'SF Mono', monospace;

    .cm-s-obsidian pre.HyperMD-list-line {
      padding-top: 0;
    }
  }

  .markdown-preview-view {
    padding: 20px 75px 50px;

    .page-header {
      display: none;
    }

    &.book {
      font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman',
        serif;

      blockquote,
      code,
      p,
      li {
        line-height: $line-height-text;
        font-size: $font-size-text--book;
      }
    }

    h1,
    h2 {
      font-weight: 600;
    }

    h1 {
      @include font-style-h1();
    }

    h2 {
      @include font-style-h2();
    }

    h3 {
      font-size: $font-size-h3;
      font-weight: 500;
    }

    h4,
    h5,
    h6 {
      text-transform: uppercase;
    }

    h4 {
      font-size: $font-size-h4;
      font-weight: 400;
    }

    h5,
    h6 {
      font-weight: 300;
    }

    h5 {
      font-size: $font-size-h5;
    }

    h6 {
      font-size: $font-size-h6;
      color: var(--text-muted);
    }

    ul {
      &.contains-task-list {
        .task-list-item {
          .task-list-item-checkbox {
            border-radius: 3px;
            top: 3px;
            filter: none;
          }
        }
      }

      li {
        &:first-of-type {
          margin-top: 0.25em;
        }
      }
    }

    code {
      line-height: 1.25em;
    }

    blockquote {
      background: var(--text-selection);
      border-left: none;
      padding: 2em;
      margin: 1em 0;
      border-radius: $border-radius;
      color: var(--text-normal);
      border: none;
    }

    blockquote,
    pre[class*='language-'] {
      margin: $space-l 0;
    }

    .internal-link {
      @include style-internal-link();
    }

    .cm-hashtag,
    .tag {
      font-size: $font-size-tag;
      font-weight: normal;
      padding: 0px 5px 1px;
      margin-top: 0;
      margin-bottom: 0;
      position: relative;
      top: -1px;
      background: rgba(27, 31, 35, 0.05);
      font-family: var(--font-monospace);
      color: var(--text-accent);
      border-radius: 3px;
      text-decoration: none;
    }
  }

  &.theme-light {
    // TODO Remove after variable cleanup
    .cm-hashtag,
    .tag {
      background: $color-black;
      color: $color-white;
    }

    :not(pre) > code[class*='language-'],
    pre[class*='language-'] {
      background: var(--background-primary);
      box-shadow: $box-shadow;
      border-radius: $border-radius;
      padding: $space-l;
      scrollbar-width: none;

      &::-webkit-scrollbar {
        display: none;
      }
    }
  }

  .site-footer {
    display: none;
  }
}
